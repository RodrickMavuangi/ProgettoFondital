@page "/reportDetail"
@page "/reportDetail/{id}"
@inject IStringLocalizer<App> Localizer
@inject RapportoClient HttpClient
@inject NavigationManager NavigationManager

<div class="row-1 d-flex justify-content-between flex-wrap flex-md-nowrap pt-0">

    <div class="col-md-5 text-left pb-4 border-bottom">
        <div class="col text-left d-inline-block ">
            <div class="page-header">
                <h1 class="h1"><b>@Localizer["Rapporto"] /</b> @Id</h1>
            </div>
        </div>
    </div>

    <div class="col-md-7 pb-4 border-bottom pr-0">
        <div class="col text-left d-none barraStrumenti"> </div>
        <div class="col text-right d-inline-block float-lg-right p-0">
            <TelerikButton Class="btn btn-primary btn-verde btn-lg mx-1">@Localizer["Salva"] @Localizer["Modifiche"]</TelerikButton>
        </div>
    </div>

</div>

<div class="d-flex justify-content-between my-3">
    <TelerikStepper Class="w-75 stepperEp" @bind-Value="@CurrentStepIndex" Linear="true">
        <StepperSteps>
            <StepperStep Label=@Localizer["DatiAnagrafici"] />
            <StepperStep Label=@Localizer["DatiCaldaia"] />
            <StepperStep Label=@Localizer["Intervento"] />
            <StepperStep Label=@Localizer["Lavorazioni"] />
        </StepperSteps>
    </TelerikStepper>
    <div>
        <TelerikButton Class="btn btn-primary btn-lg mx-1" OnClick=@PreviousStep>@Localizer["Indietro"]</TelerikButton>
        <TelerikButton Class="btn btn-primary btn-lg mx-1" OnClick=@NextStep>@Localizer["Avanti"]</TelerikButton>
    </div>
</div>

<div>
    <EditForm Model="Rapporto">
        <DataAnnotationsValidator />
        @if (CurrentStepIndex == 0)
        {
            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["Nome"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.Nome" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["Cognome"]</label>
                    <InputText Class="form-control form-control-lg w100" @bind-Value="Rapporto.Cliente.Cognome" />
                </span>
            </div>

            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["Citta"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.Citta" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["Via"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.Via" />
                </span>
                <span class="ml-3">
                    <label>@Localizer["NumCivico"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.NumCivico" />
                </span>
            </div>

            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["NumTelefono"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.NumTelefono" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["Email"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Cliente.Email" />
                </span>
            </div>
        }
        else if (CurrentStepIndex == 1)
        {
            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["Matricola"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.Matricola" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["Modello"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.Modello" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["Versione"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.Versione" />
                </span>
            </div>

            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["DataVendita"]</label>
                    <TelerikDatePicker Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.DataVendita" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["DataMontaggio"]</label>
                    <TelerikDatePicker Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.DataMontaggio" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["DataAvvio"]</label>
                    <TelerikDatePicker Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.DataAvvio" />
                </span>
            </div>

            <div class="form-field my-4 d-flex justify-content-start w-100">
                <span style="width: 33%">
                    <label>@Localizer["TecnicoPrimoAvvio"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.TecnicoPrimoAvvio" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["NumCertificatoTecnico"]</label>
                    <InputNumber Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.NumCertificatoTecnico" />
                </span>
                <span style="width: 33%" class="ml-3">
                    <label>@Localizer["DittaPrimoAvvio"]</label>
                    <InputText Class="form-control form-control-lg w100 mb-3" @bind-Value="Rapporto.Caldaia.DittaPrimoAvvio" />
                </span>
            </div>
        }
    </EditForm>
</div>